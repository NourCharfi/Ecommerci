@model ProductWithDiscountViewModel

@if (Model.HasDiscount && Model.DiscountPercentage > 0)
{
    <!-- Badge Réduction Pourcentage -->
    <div class="position-absolute top-0 start-0 m-2">
        <span class="badge bg-danger fs-6 p-2">
            <i class="fas fa-tag me-1"></i>
            -@Model.DiscountPercentage%
        </span>
    </div>

    <!-- Prix Original Barré & Prix Réduit -->
    <div class="mt-2">
        <div class="text-decoration-line-through text-muted">
            Prix: @Model.OriginalPrice.ToString("F2") DT
        </div>
        <div class="fw-bold text-success fs-5">
            Prix promo: @Model.DiscountedPrice.ToString("F2") DT
        </div>
        <div class="text-success small">
            <i class="fas fa-save me-1"></i>
            Vous économisez: @Model.DiscountAmount.ToString("F2") DT
        </div>
    </div>

    <!-- Nom de la Promo -->
    @if (!string.IsNullOrEmpty(Model.DiscountName))
    {
        <div class="alert alert-info alert-sm py-1 px-2 mt-2 mb-0">
            <small>
                <i class="fas fa-info-circle me-1"></i>
                @Model.DiscountName
            </small>
        </div>
    }
}
else if (Model.HasDiscount)
{
    <!-- Badge Livraison Gratuite ou Autre -->
    <div class="position-absolute top-0 start-0 m-2">
        <span class="badge bg-info fs-6 p-2">
            <i class="fas fa-shipping-fast me-1"></i>
            Promo active
        </span>
    </div>

    <div class="mt-2">
        <div class="fw-bold fs-5">
            Prix: @Model.OriginalPrice.ToString("F2") DT
        </div>
    </div>
}
else
{
    <!-- Prix Normal -->
    <div class="mt-2">
        <div class="fw-bold fs-5">
            Prix: @Model.OriginalPrice.ToString("F2") DT
        </div>
    </div>
}
